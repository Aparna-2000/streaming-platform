{"ast":null,"code":"var _jsxFileName = \"/Users/aparnar/CascadeProjects/streaming-platform/frontend/src/components/LoginForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { Box, Paper, TextField, Button, Typography, Alert, CircularProgress } from '@mui/material';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validate = values => {\n  const errors = {};\n  if (!values.username) {\n    errors.username = 'Username is required';\n  } else if (values.username.length < 3) {\n    errors.username = 'Username must be at least 3 characters';\n  }\n  if (!values.password) {\n    errors.password = 'Password is required';\n  } else if (values.password.length < 6) {\n    errors.password = 'Password must be at least 6 characters';\n  }\n  return errors;\n};\nconst LoginForm = ({\n  onSuccess\n}) => {\n  _s();\n  const {\n    login,\n    loading\n  } = useAuth();\n  const [error, setError] = useState('');\n  const handleSubmit = async values => {\n    setError('');\n    try {\n      const success = await login(values.username, values.password);\n      if (success) {\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n      } else {\n        setError('Invalid username or password');\n      }\n    } catch (err) {\n      setError('Login failed. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n    bgcolor: \"background.default\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 4,\n        maxWidth: 400,\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        align: \"center\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        validate: validate,\n        render: ({\n          handleSubmit,\n          submitting,\n          pristine,\n          invalid\n        }) => /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleSubmit,\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            name: \"username\",\n            children: ({\n              input,\n              meta\n            }) => /*#__PURE__*/_jsxDEV(TextField, {\n              ...input,\n              fullWidth: true,\n              margin: \"normal\",\n              label: \"Username\",\n              variant: \"outlined\",\n              error: meta.error && meta.touched,\n              helperText: meta.error && meta.touched ? meta.error : '',\n              disabled: loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Field, {\n            name: \"password\",\n            children: ({\n              input,\n              meta\n            }) => /*#__PURE__*/_jsxDEV(TextField, {\n              ...input,\n              fullWidth: true,\n              margin: \"normal\",\n              label: \"Password\",\n              type: \"password\",\n              variant: \"outlined\",\n              error: meta.error && meta.touched,\n              helperText: meta.error && meta.touched ? meta.error : '',\n              disabled: loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            sx: {\n              mt: 3,\n              mb: 2\n            },\n            disabled: submitting || pristine || invalid || loading,\n            startIcon: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 38\n            }, this) : null,\n            children: loading ? 'Signing In...' : 'Sign In'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginForm, \"MKXZyBupaSZBedZX3EzTtNdeOcE=\", false, function () {\n  return [useAuth];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","Form","Field","Box","Paper","TextField","Button","Typography","Alert","CircularProgress","useAuth","jsxDEV","_jsxDEV","validate","values","errors","username","length","password","LoginForm","onSuccess","_s","login","loading","error","setError","handleSubmit","success","err","display","justifyContent","alignItems","minHeight","bgcolor","children","elevation","sx","p","maxWidth","width","variant","component","gutterBottom","align","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","onSubmit","render","submitting","pristine","invalid","noValidate","name","input","meta","fullWidth","margin","label","touched","helperText","disabled","type","mt","startIcon","size","_c","$RefreshReg$"],"sources":["/Users/aparnar/CascadeProjects/streaming-platform/frontend/src/components/LoginForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Form, Field } from 'react-final-form';\nimport {\n  Box,\n  Paper,\n  TextField,\n  Button,\n  Typography,\n  Alert,\n  CircularProgress,\n} from '@mui/material';\nimport { LoginFormData } from '../types';\nimport { useAuth } from '../contexts/AuthContext';\n\ninterface LoginFormProps {\n  onSuccess?: () => void;\n}\n\nconst validate = (values: LoginFormData) => {\n  const errors: Partial<LoginFormData> = {};\n  \n  if (!values.username) {\n    errors.username = 'Username is required';\n  } else if (values.username.length < 3) {\n    errors.username = 'Username must be at least 3 characters';\n  }\n  \n  if (!values.password) {\n    errors.password = 'Password is required';\n  } else if (values.password.length < 6) {\n    errors.password = 'Password must be at least 6 characters';\n  }\n  \n  return errors;\n};\n\nconst LoginForm: React.FC<LoginFormProps> = ({ onSuccess }) => {\n  const { login, loading } = useAuth();\n  const [error, setError] = useState<string>('');\n\n  const handleSubmit = async (values: LoginFormData) => {\n    setError('');\n    try {\n      const success = await login(values.username, values.password);\n      if (success) {\n        onSuccess?.();\n      } else {\n        setError('Invalid username or password');\n      }\n    } catch (err) {\n      setError('Login failed. Please try again.');\n    }\n  };\n\n  return (\n    <Box\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      minHeight=\"100vh\"\n      bgcolor=\"background.default\"\n    >\n      <Paper elevation={3} sx={{ p: 4, maxWidth: 400, width: '100%' }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n          Login\n        </Typography>\n        \n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n        )}\n\n        <Form\n          onSubmit={handleSubmit}\n          validate={validate}\n          render={({ handleSubmit, submitting, pristine, invalid }) => (\n            <Box component=\"form\" onSubmit={handleSubmit} noValidate>\n              <Field name=\"username\">\n                {({ input, meta }) => (\n                  <TextField\n                    {...input}\n                    fullWidth\n                    margin=\"normal\"\n                    label=\"Username\"\n                    variant=\"outlined\"\n                    error={meta.error && meta.touched}\n                    helperText={meta.error && meta.touched ? meta.error : ''}\n                    disabled={loading}\n                  />\n                )}\n              </Field>\n\n              <Field name=\"password\">\n                {({ input, meta }) => (\n                  <TextField\n                    {...input}\n                    fullWidth\n                    margin=\"normal\"\n                    label=\"Password\"\n                    type=\"password\"\n                    variant=\"outlined\"\n                    error={meta.error && meta.touched}\n                    helperText={meta.error && meta.touched ? meta.error : ''}\n                    disabled={loading}\n                  />\n                )}\n              </Field>\n\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                sx={{ mt: 3, mb: 2 }}\n                disabled={submitting || pristine || invalid || loading}\n                startIcon={loading ? <CircularProgress size={20} /> : null}\n              >\n                {loading ? 'Signing In...' : 'Sign In'}\n              </Button>\n            </Box>\n          )}\n        />\n      </Paper>\n    </Box>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}